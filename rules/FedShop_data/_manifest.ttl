@prefix mf: <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix kgi: <http://ns.inria.fr/kg/index#> .
@prefix dcterms: <http://purl.org/dc/terms/> .

<> a mf:Manifest ;
    kgi:requiredAssets (
    ) ;
    mf:include (
    ) ;
    mf:entries (
        <main/init.ttl>
        <main/datasetDescription.ttl>
    ) .

<main/init.ttl> a mf:ManifestEntry ;
    kgi:onSuccess (
        [
            mf:action """
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX void: <http://rdfs.org/ns/void#>
            INSERT DATA {
                kgi: sd:namedGraph $rawEndpointUrl .
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl void:sparqlEndpoint $rawEndpointUrl .
                }
            }
            """
        ]
    ) .

<main/datasetDescription.ttl> a mf:ManifestEntry ;
    kgi:onSuccess (
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dcat:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a void:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dcmitype:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a schema:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }   
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a sd:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dataid:Dataset .
                            ?dataset ?p ?o .
                            OPTIONAL { ?o a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dcat:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a void:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dcmitype:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a schema:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a sd:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?dataset ?p ?o .
                    ?o a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dataid:Dataset .
                                ?dataset ?p ?o .
                                OPTIONAL { ?o a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dcat:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a void:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dcmitype:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a schema:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a sd:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            ?dataset a dataid:Dataset .
                            ?s ?p ?dataset .
                            OPTIONAL { ?s a ?oc . }
                            OPTIONAL { 
                                FILTER(isBlank(?s))
                                ?s ?ssp ?sso .
                                ?sos ?sop ?soo .
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dcat:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a void:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dcmitype:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a schema:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a sd:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
        [
            kgi:recommendedPagination 500 ;
            mf:action """
            PREFIX void: <http://rdfs.org/ns/void#>
            PREFIX dcat: <http://www.w3.org/ns/dcat#>
            PREFIX dcmitype: <http://purl.org/dc/dcmitype/>
            PREFIX schema: <http://schema.org/>
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX prov: <http://www.w3.org/ns/prov#>
            PREFIX pav: <http://purl.org/pav/>
            PREFIX foaf: <http://xmlns.com/foaf/0.1/>
            PREFIX dce: <http://purl.org/dc/elements/1.1/>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX dataid: <http://dataid.dbpedia.org/ns/core#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            INSERT {
                GRAPH $rawEndpointUrl {
                    $rawEndpointUrl dcat:servesDataset ?dataset .
                }
                GRAPH ?datasetGraph {
                    ?s ?p ?dataset .
                    ?s a ?oc .
                    ?s ?ssp ?sso .
                    ?sos ?sop ?soo .
                }
            } WHERE {
                kgi: sd:namedGraph $rawEndpointUrl .
                SERVICE $rawEndpointUrl {
                    {
                        SELECT DISTINCT * {
                            GRAPH ?g {
                                ?dataset a dataid:Dataset .
                                ?s ?p ?dataset .
                                OPTIONAL { ?s a ?oc . }
                                OPTIONAL { 
                                    FILTER(isBlank(?s))
                                    ?s ?ssp ?sso .
                                    ?sos ?sop ?soo .
                                }
                            }
                        }
                    }
                }
                BIND( IF(isIRI(?dataset), ?dataset, IRI( CONCAT( STR(kgi:), MD5(STR(?dataset)), "Dataset" ) ) ) AS ?datasetGraph)
            }
            """
        ]
    ) .